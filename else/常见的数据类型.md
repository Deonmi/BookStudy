## 变量

- 系统变量

  - 说明：变量由系统提供，不是用户定义，属于服务器层面

  - 注意：如果是全局级别，则需要加global；如果是会话级别，则需要加session；如果不写，则默认session

  - 使用的语法：

    - 查看所有的系统变量

      ```
      SHOW GLOBAL|【SESSION】 VARIABLES;
      ```

    - 查看满足条件的部分系统变量

      ```
      SHOW GLOBAL|【SESSION】 VARIABLES LIKE '%char%';
      ```

    - 查看指定的某个系统变量的值

      ```
      SELECT @@GLOBAL|【SESSION】.系统变量名;
      ```

    - 为某个系统变量赋值

      - 方式一

        ```
        set GLOBAL|【SESSION】 系统变量名 = 值;
        ```

      - 方式二

        ```
        set @@GLOBAL|【SESSION】.系统变量名 = 值;
        ```

  - 分类：

    - 全局变量

      - 作用域：服务器每次启动将为所有的全局变量赋初始值，针对于所有的会话（连接）有效，但不能跨重启。

      - 查看所有的全局变量

        ```
        SHOW GLOBAL VARIABLES;
        ```

      - 查看部分的全局变量

        ```
        SHOW GLOBAL VARIABLES LIKE '%char%';
        ```

      - 查看指定的全局变量的值

        ```
        SELECT @@global.autocommit;
        SELECT @@global.tx_isolation;
        ```

      - 为某个指定的全局变量赋值

        - 方式1：

          ```
          set global autocommit=0;
          ```

        - 方式2：

          ```
          SET @@global.autocommit=0;
          ```

    - 会话变量

      - 作用域：仅仅针对于当前会话（连接）有效。

      - 查看所有的会话变量

        ```
        SHOW 【SESSION】 VARIABLES;
        ```

      - 查看部分的会话变量

        ```
        SHOW 【SESSION】 VARIABLES LIKE '%char%';
        ```

      - 查看指定的某个会话变量

        ```
        SELECT @@【SESSION.】autocommit;
        ```

      - 为某个会话变量赋值

        - 方式1：

          ```
          set session autocommit=0;
          ```

        - 方式2：

          ```
          SET @@【session.】autocommit=0;
          ```

- 自定义变量

  - 用户变量
  - 局部变量